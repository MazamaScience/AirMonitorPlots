<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to PWFSLSmokePlots • PWFSLSmokePlots</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to PWFSLSmokePlots">
<meta property="og:description" content="">
<meta property="og:image" content="/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">PWFSLSmokePlots</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.5.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/PWFSLSmokePlots.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/articles/plotting_current_data.html">Plotting Current Data</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/MazamaScience/PWFSLSmokePlots">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Introduction to PWFSLSmokePlots</h1>
                        <h4 class="author">Helen Miller</h4>
            
            <h4 class="date">Jan 17, 2019</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/MazamaScience/PWFSLSmokePlots/blob/master/vignettes/PWFSLSmokePlots.Rmd"><code>vignettes/PWFSLSmokePlots.Rmd</code></a></small>
      <div class="hidden name"><code>PWFSLSmokePlots.Rmd</code></div>

    </div>

    
    
<p><code>PWFSLSmokePlots</code> provides plotting functionality to create production-ready plots using air quality monitoring data based on the data model from <code>PWFSLSmoke</code>. It builds on the <code>PWFLSmoke</code> package, integrating the data with <code>ggplot2</code> plotting functions. High-level plotting functions make it easy for users to create beautiful plots of monitoring data. Since these functions are built on <code>ggplot2</code>, users familiar with <code>ggplot2</code> can easily use the functions in this package to create custom plots.</p>
<div id="production-ready-plots" class="section level2">
<h2 class="hasAnchor">
<a href="#production-ready-plots" class="anchor"></a>Production-ready plots</h2>
<p>High-level functions in this package make it easy to create beautiful plots with very few lines of code.</p>
<div id="timeseries" class="section level3">
<h3 class="hasAnchor">
<a href="#timeseries" class="anchor"></a>Timeseries</h3>
<p>The default Timeseries plot is optimized for one monitor.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(PWFSLSmoke)
<span class="kw">library</span>(PWFSLSmokePlots)
<span class="kw"><a href="../reference/monitor_ggTimeseries.html">monitor_ggTimeseries</a></span>(PWFSLSmoke<span class="op">::</span>Northwest_Megafires, 
                     <span class="dt">monitorIDs =</span> <span class="st">"160050015_01"</span>,
                     <span class="dt">startdate =</span> <span class="dv">20150815</span>,
                     <span class="dt">enddate =</span> <span class="dv">20150825</span>)</code></pre></div>
<p><img src="PWFSLSmokePlots_files/figure-html/unnamed-chunk-1-1.png" width="672"></p>
<p>If more than one monitor is present, color will be mapped to monitorID.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/monitor_ggTimeseries.html">monitor_ggTimeseries</a></span>(PWFSLSmoke<span class="op">::</span>Northwest_Megafires,
                     <span class="dt">monitorIDs =</span> <span class="kw">c</span>(<span class="st">"530630047_01"</span>, 
                                    <span class="st">"530639997_01"</span>, 
                                    <span class="st">"530639996_01"</span>),
                     <span class="dt">startdate =</span> <span class="dv">20150815</span>,
                     <span class="dt">enddate =</span> <span class="dv">20150820</span>)</code></pre></div>
<p><img src="PWFSLSmokePlots_files/figure-html/unnamed-chunk-2-1.png" width="672"></p>
</div>
<div id="daily-barplot" class="section level3">
<h3 class="hasAnchor">
<a href="#daily-barplot" class="anchor"></a>Daily Barplot</h3>
<p>Daily Barplot can show daily averages for one monitor.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/monitor_ggDailyBarplot.html">monitor_ggDailyBarplot</a></span>(<span class="dt">ws_monitor =</span> PWFSLSmoke<span class="op">::</span>Carmel_Valley,
                       <span class="dt">startdate =</span> <span class="dv">20160801</span>,
                       <span class="dt">enddate =</span> <span class="dv">20160808</span>)</code></pre></div>
<p><img src="PWFSLSmokePlots_files/figure-html/unnamed-chunk-3-1.png" width="672"></p>
<p>It can also show aggregated daily averages for many monitors.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/monitor_ggDailyBarplot.html">monitor_ggDailyBarplot</a></span>(PWFSLSmoke<span class="op">::</span>Northwest_Megafires,
                       <span class="dt">startdate =</span> <span class="dv">20150820</span>, 
                       <span class="dt">enddate =</span> <span class="dv">20150825</span>)</code></pre></div>
<p><img src="PWFSLSmokePlots_files/figure-html/unnamed-chunk-4-1.png" width="672"></p>
<p>If using current data, it will include a bar for “today”, displaying the current NowCast, if available.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">latest &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/PWFSLSmoke/topics/airnow_loadLatest">airnow_loadLatest</a></span>()
<span class="kw"><a href="../reference/monitor_ggDailyBarplot.html">monitor_ggDailyBarplot</a></span>(latest,
                       <span class="dt">startdate =</span> lubridate<span class="op">::</span><span class="kw"><a href="http://lubridate.tidyverse.org/reference/now.html">now</a></span>() <span class="op">-</span><span class="st"> </span>lubridate<span class="op">::</span><span class="kw"><a href="http://lubridate.tidyverse.org/reference/duration.html">ddays</a></span>(<span class="dv">7</span>),
                      <span class="dt">monitorID =</span> <span class="st">"060631010_01"</span>)</code></pre></div>
<p><img src="PWFSLSmokePlots_files/figure-html/unnamed-chunk-5-1.png" width="672"></p>
</div>
<div id="daily-by-hour" class="section level3">
<h3 class="hasAnchor">
<a href="#daily-by-hour" class="anchor"></a>Daily By Hour</h3>
<p>The <code>dailyByHour</code> plot is designed to view current data for only one monitor. It can show daily trends in air quality.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">latest &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/PWFSLSmoke/topics/airnow_loadLatest">airnow_loadLatest</a></span>()
<span class="kw"><a href="../reference/monitor_ggDailyByHour.html">monitor_ggDailyByHour</a></span>(latest,
                      <span class="dt">monitorID =</span> <span class="st">"060631010_01"</span>)</code></pre></div>
<p><img src="PWFSLSmokePlots_files/figure-html/unnamed-chunk-6-1.png" width="672"></p>
<p>The <code>dailyByHour</code> is designed specifically to show current data, with special lines for “today” and “yesterday”. However, it can plot historical data, using the enddate for “today”.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/monitor_ggDailyByHour.html">monitor_ggDailyByHour</a></span>(PWFSLSmoke<span class="op">::</span>Carmel_Valley,
                      <span class="dt">startdate =</span> <span class="dv">20160801</span>, 
                      <span class="dt">enddate =</span> <span class="dv">20160809</span>)</code></pre></div>
<p><img src="PWFSLSmokePlots_files/figure-html/unnamed-chunk-7-1.png" width="672"></p>
</div>
<div id="clock-plot" class="section level3">
<h3 class="hasAnchor">
<a href="#clock-plot" class="anchor"></a>Clock Plot</h3>
<p>The colors on the clock plot show the mean AQI level (represented by color) throughout the day.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/monitor_ggClockPlot.html">monitor_ggClockPlot</a></span>(PWFSLSmoke<span class="op">::</span>Carmel_Valley,
                    <span class="dt">startdate =</span> <span class="dv">20160801</span>, 
                    <span class="dt">enddate =</span> <span class="dv">20160809</span>) </code></pre></div>
<p><img src="PWFSLSmokePlots_files/figure-html/unnamed-chunk-8-1.png" width="672"></p>
</div>
</div>
<div id="custom-plots" class="section level2">
<h2 class="hasAnchor">
<a href="#custom-plots" class="anchor"></a>Custom Plots</h2>
<p>High-level plotting functions create plots by adding custom layers and styling, returing a <code>ggplot</code> object. The package extends <code>ggplot2</code>, including custom geoms, stats, and themes, as well as some <code>custom_*</code> functions which combine layers and other styling options to make consistent and appropriately styled plots. A plot can be instantiated with a <code>ggplot_*</code> function. Choose the correct function, depending on the type of plot. Then, layers and styling can be added with functions from this package or <code>ggplot2</code> functions. This section demonstrates how these pieces work together, and shows some examples of the kinds of custom plots that can be made using this functionality.</p>
<div id="pm25timeseries-plots" class="section level3">
<h3 class="hasAnchor">
<a href="#pm25timeseries-plots" class="anchor"></a>pm25Timeseries plots</h3>
<p>The most basic type of plot for PWFSL monitoring data is timeseries plots: plots that have time on the x-axis and PM2.5 on the y-axis. Timeseries plots should start with a call to <code>ggplot_pm25Timeseries</code>, which accepts either a <code>ws_monitor</code> object, or a <code>ws_tidy</code> object, created from <code><a href="http://www.rdocumentation.org/packages/PWFSLSmoke/topics/monitor_toTidy">monitor_toTidy(ws_monitor)</a></code>. This instantiates the plot mapping the data to the correct axes, and adds some custom styling and scaling.</p>
<div id="many-monitors" class="section level4">
<h4 class="hasAnchor">
<a href="#many-monitors" class="anchor"></a>Many Monitors</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">nmPlot &lt;-<span class="st"> </span><span class="kw"><a href="../reference/ggplot_pm25Timeseries.html">ggplot_pm25Timeseries</a></span>(Northwest_Megafires,
                           <span class="dt">startdate =</span> <span class="dv">20150815</span>,
                           <span class="dt">enddate =</span> <span class="dv">20150825</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">"2015 Northwest Megafires"</span>)

nmPlot</code></pre></div>
<p><img src="PWFSLSmokePlots_files/figure-html/unnamed-chunk-9-1.png" width="672"></p>
<p>Once the plot is initiated, you can add layers.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">nmPlot <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/geom_pm25Points.html">geom_pm25Points</a></span>(<span class="dt">shape =</span> <span class="st">"square"</span>, <span class="dt">alpha =</span> .<span class="dv">1</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/stat_dailyAQCategory.html">stat_dailyAQCategory</a></span>(<span class="dt">alpha =</span> .<span class="dv">5</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">500</span>)) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="../reference/custom_aqiStackedBar.html">custom_aqiStackedBar</a></span>(<span class="dt">width =</span> <span class="fl">0.01</span>) </code></pre></div>
<p><img src="PWFSLSmokePlots_files/figure-html/unnamed-chunk-10-1.png" width="672"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
nmPlot <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/geom_pm25Points.html">geom_pm25Points</a></span>(<span class="dt">alpha =</span> <span class="fl">0.05</span>, <span class="dt">shape =</span> <span class="st">"square"</span>)  <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="../reference/stat_meanByHour.html">stat_meanByHour</a></span>(<span class="dt">geom =</span> <span class="st">"line"</span>, <span class="dt">size =</span> <span class="dv">2</span>, <span class="dt">output =</span> <span class="st">"AQIColors"</span>)<span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/custom_aqiStackedBar.html">custom_aqiStackedBar</a></span>()</code></pre></div>
<p><img src="PWFSLSmokePlots_files/figure-html/unnamed-chunk-10-2.png" width="672"></p>
</div>
<div id="several-monitors" class="section level4">
<h4 class="hasAnchor">
<a href="#several-monitors" class="anchor"></a>Several Monitors</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Subset out several monitors near Spokane</span>
monitorIDs &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">"530630047_01"</span>, <span class="st">"530639997_01"</span>, <span class="st">"530639996_01"</span>)
spokane &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/PWFSLSmoke/topics/monitor_subset">monitor_subset</a></span>(Northwest_Megafires, <span class="dt">monitorIDs =</span> monitorIDs)

spokanePlot &lt;-<span class="st"> </span><span class="kw"><a href="../reference/ggplot_pm25Timeseries.html">ggplot_pm25Timeseries</a></span>(spokane,
                                     <span class="dt">startdate =</span> <span class="dv">20150815</span>,
                                     <span class="dt">enddate =</span> <span class="dv">20150820</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">"Smoke Monitors in Spokane, 2015"</span>)

spokanePlot <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/geom_pm25Points.html">geom_pm25Points</a></span>(<span class="kw">aes</span>(<span class="dt">color =</span> monitorID)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/stat_nowcast.html">stat_nowcast</a></span>(<span class="kw">aes</span>(<span class="dt">color =</span> monitorID))</code></pre></div>
<p><img src="PWFSLSmokePlots_files/figure-html/unnamed-chunk-11-1.png" width="672"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">spokanePlot <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/stat_dailyAQCategory.html">stat_dailyAQCategory</a></span>(<span class="dt">timezone =</span> <span class="st">"America/Los_Angeles"</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">facet_grid</span>(<span class="dt">rows =</span> <span class="kw">vars</span>(monitorID))</code></pre></div>
<p><img src="PWFSLSmokePlots_files/figure-html/unnamed-chunk-11-2.png" width="672"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">spokanePlot <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/stat_AQCategory.html">stat_AQCategory</a></span>(<span class="dt">color =</span> <span class="ot">NA</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/stat_dailyAQCategory.html">stat_dailyAQCategory</a></span>(<span class="dt">alpha =</span> .<span class="dv">5</span>, <span class="dt">timezone =</span> <span class="st">"America/Los_Angeles"</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">facet_grid</span>(<span class="dt">rows =</span> <span class="kw">vars</span>(monitorID)) </code></pre></div>
<p><img src="PWFSLSmokePlots_files/figure-html/unnamed-chunk-11-3.png" width="672"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">spokanePlot <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/custom_aqiStackedBar.html">custom_aqiStackedBar</a></span>(<span class="dt">width =</span> <span class="dv">1</span>, <span class="dt">alpha =</span> .<span class="dv">3</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/stat_nowcast.html">stat_nowcast</a></span>(<span class="kw">aes</span>(<span class="dt">linetype =</span> monitorID))</code></pre></div>
<p><img src="PWFSLSmokePlots_files/figure-html/unnamed-chunk-11-4.png" width="672"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">spokanePlot <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/custom_aqiLines.html">custom_aqiLines</a></span>() <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/stat_nowcast.html">stat_nowcast</a></span>(<span class="kw">aes</span>(<span class="dt">linetype =</span> monitorID)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/custom_pm25TimeseriesScales.html">custom_pm25TimeseriesScales</a></span>(spokane, <span class="dt">startdate =</span> <span class="dv">20150810</span>, <span class="dt">enddate =</span> <span class="dv">20150820</span>) </code></pre></div>
<p><img src="PWFSLSmokePlots_files/figure-html/unnamed-chunk-11-5.png" width="672"></p>
</div>
</div>
<div id="pm25diurnal-plots" class="section level3">
<h3 class="hasAnchor">
<a href="#pm25diurnal-plots" class="anchor"></a>pm25Diurnal plots</h3>
<p>There are also some functions designed to create diurnal plots – plots designed to show daily trends. They should start with a call to <code>ggplot_pm25Diurnal</code>.</p>
<div id="one-monitor" class="section level4">
<h4 class="hasAnchor">
<a href="#one-monitor" class="anchor"></a>One monitor</h4>
<p>This type of plot is best suited for exploring one monitor, although a savvy <code>ggplot2</code> user could certainly create useful and attractive diurnal plots representing multiple monitors. Like <code>ggplot_pm25Timeseries</code>, <code>ggplot_pm25Diurnal</code> simply instantiates the plot without adding any layers yet. By default, it includes day/night shading, although this can be turned off by specifying <code>shadedNight = FALSE</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">monitorID &lt;-<span class="st"> "530630047_01"</span>
monroeStMonitor &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/PWFSLSmoke/topics/monitor_subset">monitor_subset</a></span>(Northwest_Megafires, <span class="dt">monitorIDs =</span> monitorID)
<span class="kw"><a href="../reference/ggplot_pm25Diurnal.html">ggplot_pm25Diurnal</a></span>(monroeStMonitor)</code></pre></div>
<p><img src="PWFSLSmokePlots_files/figure-html/unnamed-chunk-12-1.png" width="672"></p>
<p>After instantiating the plot, you can add layers. <code>stat_meanByHour</code> is a stat specifically designed for this type of plot, which calculates the mean y-value for each x-value. You can also use the ‘group’ aesthetic to tell a stat to do calculations by a group such as hour or day. There is also an <code>offsetBreaks</code> option, which, if <code>TRUE</code>, will offset the x-axis guides and ticks by 0.5, which is useful for plots like boxplots where you might want the boxes to be between the hour ticks instead of lined up with them. For example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># offsetBreaks = FALSE. Notice that bars cover the x-axis guides</span>
<span class="kw"><a href="../reference/ggplot_pm25Diurnal.html">ggplot_pm25Diurnal</a></span>(PWFSLSmoke<span class="op">::</span>Carmel_Valley, 
                   <span class="dt">startdate =</span> <span class="dv">20160801</span>, 
                   <span class="dt">enddate =</span> <span class="dv">20160810</span>)  <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/stat_meanByHour.html">stat_meanByHour</a></span>(<span class="dt">output =</span> <span class="st">"AQIColors"</span>)</code></pre></div>
<p><img src="PWFSLSmokePlots_files/figure-html/unnamed-chunk-13-1.png" width="672"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
<span class="co"># offsetBreaks = TRUE</span>
<span class="kw"><a href="../reference/ggplot_pm25Diurnal.html">ggplot_pm25Diurnal</a></span>(PWFSLSmoke<span class="op">::</span>Carmel_Valley,
                   <span class="dt">startdate =</span> <span class="dv">20160801</span>, 
                   <span class="dt">enddate =</span> <span class="dv">20160810</span>,
                   <span class="dt">offsetBreaks =</span> <span class="ot">TRUE</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/stat_meanByHour.html">stat_meanByHour</a></span>(<span class="dt">outpu =</span> <span class="st">"AQIColors"</span>)</code></pre></div>
<p><img src="PWFSLSmokePlots_files/figure-html/unnamed-chunk-13-2.png" width="672"></p>
<p>Other examples</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
<span class="kw"><a href="../reference/ggplot_pm25Diurnal.html">ggplot_pm25Diurnal</a></span>(PWFSLSmoke<span class="op">::</span>Carmel_Valley,
                   <span class="dt">startdate =</span> <span class="dv">20160801</span>, 
                   <span class="dt">enddate =</span> <span class="dv">20160810</span>,
                   <span class="dt">offsetBreaks =</span> <span class="ot">TRUE</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_boxplot</span>(<span class="kw">aes</span>(<span class="dt">group =</span> hour)) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="../reference/custom_aqiStackedBar.html">custom_aqiStackedBar</a></span>()</code></pre></div>
<p><img src="PWFSLSmokePlots_files/figure-html/unnamed-chunk-14-1.png" width="672"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
<span class="kw"><a href="../reference/ggplot_pm25Diurnal.html">ggplot_pm25Diurnal</a></span>(monroeStMonitor,
                   <span class="dt">startdate =</span> <span class="dv">20150815</span>,
                   <span class="dt">enddate =</span> <span class="dv">20150820</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/stat_nowcast.html">stat_nowcast</a></span>(<span class="kw">aes</span>(<span class="dt">color =</span> day), <span class="dt">geom =</span> <span class="st">"path"</span>, <span class="dt">size =</span> <span class="dv">1</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/stat_meanByHour.html">stat_meanByHour</a></span>(<span class="dt">geom =</span> <span class="st">"line"</span>, <span class="dt">size =</span> <span class="dv">3</span>) </code></pre></div>
<p><img src="PWFSLSmokePlots_files/figure-html/unnamed-chunk-14-2.png" width="672"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
<span class="kw"><a href="../reference/ggplot_pm25Diurnal.html">ggplot_pm25Diurnal</a></span>(spokane, 
                   <span class="dt">startdate =</span> <span class="dv">20150815</span>,
                   <span class="dt">enddate =</span> <span class="dv">20150820</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="../reference/stat_meanByHour.html">stat_meanByHour</a></span>(<span class="kw">aes</span>(<span class="dt">color =</span> monitorID), <span class="dt">geom =</span> <span class="st">"path"</span>)</code></pre></div>
<p><img src="PWFSLSmokePlots_files/figure-html/unnamed-chunk-14-3.png" width="672"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
<span class="co"># "clock" plot</span>

<span class="kw"><a href="../reference/ggplot_pm25Diurnal.html">ggplot_pm25Diurnal</a></span>(monroeStMonitor,
                   <span class="dt">startdate =</span> <span class="dv">20150815</span>,
                   <span class="dt">enddate =</span> <span class="dv">20150820</span>,
                   <span class="dt">offsetBreaks =</span> <span class="ot">TRUE</span>,
                   <span class="dt">xexp =</span> <span class="kw">c</span>(<span class="dv">1</span><span class="op">/</span><span class="dv">46</span>, <span class="dv">1</span><span class="op">/</span><span class="dv">46</span>)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">coord_polar</span>(<span class="dt">start =</span> pi) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/stat_meanByHour.html">stat_meanByHour</a></span>(<span class="kw">aes</span>(<span class="dt">y =</span> <span class="dv">75</span>, <span class="dt">xmin =</span> <span class="dv">50</span>), <span class="dt">input =</span> <span class="st">"pm25"</span>, <span class="dt">output =</span> <span class="st">"AQIColors"</span>, <span class="dt">width =</span> <span class="dv">1</span>, <span class="dt">color =</span> <span class="kw">adjustcolor</span>(<span class="st">"black"</span>, .<span class="dv">2</span>)) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="../reference/geom_pm25Points.html">geom_pm25Points</a></span>()</code></pre></div>
<p><img src="PWFSLSmokePlots_files/figure-html/unnamed-chunk-14-4.png" width="672"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
<span class="kw"><a href="../reference/ggplot_pm25Diurnal.html">ggplot_pm25Diurnal</a></span>(PWFSLSmoke<span class="op">::</span>Carmel_Valley) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="../reference/stat_nowcast.html">stat_nowcast</a></span>(<span class="dt">size =</span> <span class="dv">5</span>, <span class="dt">alpha =</span> .<span class="dv">05</span>, <span class="dt">geom =</span> <span class="st">"point"</span>)</code></pre></div>
<p><img src="PWFSLSmokePlots_files/figure-html/unnamed-chunk-14-5.png" width="672"></p>
</div>
</div>
<div id="extending-the-preset-plots" class="section level3">
<h3 class="hasAnchor">
<a href="#extending-the-preset-plots" class="anchor"></a>Extending the preset plots</h3>
<p>All of the preset plots (<code>tidy_gg...</code>) generate ggplot objects, so you can start with these and add more layers or customize them by adding themes.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/monitor_ggClockPlot.html">monitor_ggClockPlot</a></span>(PWFSLSmoke<span class="op">::</span>Carmel_Valley,
                    <span class="dt">startdate =</span> <span class="dv">20160801</span>, 
                    <span class="dt">enddate =</span> <span class="dv">20160809</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="../reference/stat_meanByHour.html">stat_meanByHour</a></span>(<span class="dt">fill =</span> <span class="kw">adjustcolor</span>(<span class="st">"white"</span>, .<span class="dv">6</span>), <span class="dt">color =</span> <span class="st">"black"</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">"Carmel Valley:</span><span class="ch">\n</span><span class="st"> Air quality by time of day"</span>)</code></pre></div>
<p><img src="PWFSLSmokePlots_files/figure-html/unnamed-chunk-15-1.png" width="672"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
<span class="kw"><a href="../reference/monitor_ggTimeseries.html">monitor_ggTimeseries</a></span>(PWFSLSmoke<span class="op">::</span>Carmel_Valley,
                     <span class="dt">startdate =</span> <span class="dv">20160801</span>, 
                    <span class="dt">enddate =</span> <span class="dv">20160809</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">theme_classic</span>()</code></pre></div>
<p><img src="PWFSLSmokePlots_files/figure-html/unnamed-chunk-15-2.png" width="672"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
<span class="kw"><a href="../reference/monitor_ggDailyByHour.html">monitor_ggDailyByHour</a></span>(PWFSLSmoke<span class="op">::</span>Carmel_Valley,
                     <span class="dt">startdate =</span> <span class="dv">20160801</span>, 
                    <span class="dt">enddate =</span> <span class="dv">20160809</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">group=</span>day), <span class="dt">alpha =</span> .<span class="dv">5</span>)</code></pre></div>
<p><img src="PWFSLSmokePlots_files/figure-html/unnamed-chunk-15-3.png" width="672"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
<span class="kw"><a href="../reference/monitor_ggDailyBarplot.html">monitor_ggDailyBarplot</a></span>(PWFSLSmoke<span class="op">::</span>Carmel_Valley,
                     <span class="dt">startdate =</span> <span class="dv">20160801</span>, 
                    <span class="dt">enddate =</span> <span class="dv">20160809</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="../reference/stat_nowcast.html">stat_nowcast</a></span>(<span class="dt">geom =</span> <span class="st">"pm25Points"</span>)</code></pre></div>
<p><img src="PWFSLSmokePlots_files/figure-html/unnamed-chunk-15-4.png" width="672"></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#production-ready-plots">Production-ready plots</a></li>
      <li><a href="#custom-plots">Custom Plots</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Jonathan Callahan, Tate Brasel, Helen Miller, Spencer Pease.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
